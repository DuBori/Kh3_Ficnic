<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 관리자 : 리뷰 관련 -->
<mapper namespace="reviewDAO">

    <!-- 리뷰 목록 -->
    <select id="adminReviewList" resultType="reviewDTO">
   	 	select * from review_list order by review_no
    </select>

	<select id="adminReviewView" parameterType="int" resultType="reviewDTO">
		select * from review_list where review_no = #{review_no}
	</select>

	<update id="adminReviewModify" parameterType="reviewDTO">
		update review_list set review_point = #{review_point}, review_photo1 = #{review_photo1}, 
		review_photo2 = #{review_photo2}, review_cont = #{review_cont} where review_no = #{review_no}
	</update>

 <delete id="adminReviewDelete" parameterType="int">
  		delete from review_list where review_no = #{review_no}
  </delete>
  
    <update id="adminReviewSeq">
  		<![CDATA[update review_list set review_no = review_no - 1 where review_no > #{review_no}
  		]]>
  </update>

</mapper>