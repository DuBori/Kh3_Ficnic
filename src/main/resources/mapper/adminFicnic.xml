<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 관리자 : 피크닉 관련 -->
<mapper namespace="ficnicDAO">

    <!-- 피크닉 목록 -->
    <select id="adminFicnicList" resultType="ficnicDTO">
    	select * from ficnic_list order by ficnic_no desc
    </select>
    
    <!-- 피크닉 등록 -->
    <insert id="adminFicnicWrite" parameterType="ficnicDTO">
    	<selectKey resultType="int" keyProperty="ficnic_no" order="BEFORE">
           select nvl(max(bcomm_no),1) from ficnic_list
       </selectKey>
    	insert into ficnic_list values(#{ficnic_no}+1,#{ficnic_category_no},#{ficnic_category_sub1},#{ficnic_category_sub2},#{ficnic_category_sub3},#{ficnic_name},#{ficnic_market_price},#{ficnic_sale_price},#{ficnic_option_title},#{ficnic_option_price},#{ficnic_select_title},#{ficnic_select_price},#{ficnic_date_use},#{ficnic_photo1},#{ficnic_photo2},#{ficnic_photo3},#{ficnic_photo4},#{ficnic_photo4},#{ficnic_info},#{ficnic_detail},#{ficnic_curriculum},#{ficnic_etc},#{ficnic_address},#{ficnic_include},#{ficnic_notinclude},#{ficnic_prepare},#{ficnic_caution},#{ficnic_review_point},#{ficnic_review_count},#{ficnic_hit},#{ficnic_sale},sysdate)
    </insert>
    
    <!-- 해당 피크닉 정보  -->
	<select id="adminFicnicCont" parameterType="int" resultType="ficnicDTO">
		select * from ficnic_list where ficnic_no=#{no}
	</select>
	
	<!-- 해당 피크닉 수정  -->
	<update id="adminFicnicModify" parameterType="ficnicDTO">
		update ficnic_list set ficnic_category_no =#{ficnic_category_no},
		ficnic_category_sub1 =#{ficnic_category_sub1},
		ficnic_category_sub1 =#{ficnic_category_sub2},
		ficnic_category_sub1 =#{ficnic_category_sub3},
		ficnic_name = #{ficnic_name},
		ficnic_sale_price = #{ficnic_sale_price},
		ficnic_option_title =#{ficnic_option_title},
		ficnic_option_price =#{ficnic_option_price},
		ficnic_select_title = #{ficnic_select_title},
		ficnic_select_price = #{ficnic_select_price},
		ficnic_date_use = #{ficnic_date_use},
		ficnic_photo1 = #{ficnic_photo1},
		ficnic_photo2 = #{ficnic_photo2},
		ficnic_photo3 = #{ficnic_photo3},
		ficnic_photo4 = #{ficnic_photo4},
		ficnic_photo5 = #{ficnic_photo5},
		ficnic_info = #{ficnic_info},
		ficnic_detail = #{ficnic_detail},
		ficnic_curriculum = #{ficnic_curriculum},
		ficnic_etc = #{ficnic_etc},
		ficnic_address = #{ficnic_address},
		ficnic_include = #{ficnic_include},
		ficnic_notinclude = #{ficnic_notinclude},
		ficnic_prepare = #{ficnic_prepare},
		ficnic_caution = #{ficnic_caution},
		ficnic_review_point = #{ficnic_review_point},
		ficnic_review_count = #{ficnic_review_count},
		ficnic_sale=#{ficnic_sale},
		ficnic_date=sysdate where ficnic_no=#{ficnic_no}
	</update>





</mapper>